<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Taco Cloud</title>
    <link rel = "stylesheet" th:href = "@{/style.css}"/>
</head>

<body>
    <!-- th:action to /orders request mappting from OrderController.java -->
    <!-- ${order} is a model attribute containg new order() object that was set in orderForm() method in OrderController.java-->
    <form method = "POST" th:action = "@{/orders}" th:object = "${order}">
        <h1>Order your taco creations!</h1>

        <!-- getting the image tacoCloud.png -->
        <img th:src = "@{/images/TacoCloud.png}"/>

        <!-- link to design url -->
        <a th:href = "@{/design}" id = "another">Design another taco</a></br>

        <!-- #fields attribute accesses the Errors object. After that we check if it has any errors -->
        <div th:if = "${#fields.hasErrors()}">
            <span class = "validationError">
                Please correct the problems below and resubmit.
            </span>
        </div>

        <!-- since we have ${order} object, we are linking our input to the order objects properties -->
        <!-- th:if checks if the name field has any error. -->
        <!-- th: errors replaces Name Error with validation message if there are any errors -->
        <h3>Deliver my taco masterpieces to...</h3>
        <label for = "name">Name: </label>
        <input type = "text" th:field = "*{name}"/>
        <span class = "validationError" 
            th:if = "${#fields.hasErrors('name')}"
            th:errors = "*{name}">Name Error</span>
        <br/>

        <label for = "street">Street address: </label>
        <input type = "text" th:field = "*{street}"/>
        <span class = "validationError"
            th:if = "${#fields.hasErrors('street')}"
            th:errors = "*{street}">Street Error</span>
        <br/>

        <label for = "city">City: </label>
        <input type = "text" th:field = "*{city}"/>
        <span class = "validationError"
            th:if = "${#fields.hasErrors('city')}"
            th:errors = "*{city}">City Error</span>
        <br/>

        <label for = "state">State: </label>
        <input type = "text" th:field = "*{state}"/>
        <span class = "validationError"
            th:if = "${#fields.hasErrors('state')}"
            th:errors = "*{state}">State Error</span>
        <br/>

        <label for = "zip">Zip code: </label>
        <input type = "text" th:field = "*{zip}"/>
        <span class = "validationError"
            th:if = "${#fields.hasErrors('zip')}"
            th:errors = "*{zip}">Zip Error</span>
        <br/>

        <h3>Here's how I'll pay...</h3>
        <label for = "ccNumber">Credit Card #: </label>
        <input type = "text" th:field = "*{ccNumber}"/>
        <span class = "validationError"
            th:if = "${#fields.hasErrors('ccNumber')}"
            th:errors = "*{ccNumber}">CC Number Error</span>
        <br/>

        <label for = "ccExpiration">Expiration: </label>
        <input type = "text" th:field = "*{ccExpiration}"/>
        <span class = "validationError"
            th:if = "${#fields.hasErrors('ccExpiration')}"
            th:errors = "*{ccExpiration}">CC Expiration Error</span>
        <br/>

        <label for = "ccCVV">CVV: </label>
        <input type = "text" th:field = "*{ccCVV}"/>
        <span class = "validationError" 
            th:if = "${'ccCVV'}"
            th:errors = "*{ccCVV}">CC CVV Error</span>
        <br/>

        <input type = "submit" value = "Submit order"/>
    </form>
</body>
</html>